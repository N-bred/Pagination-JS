class Pagination{constructor(postsContainer,paginationContainer,limitPerPage=10,currentPage=1,renderFunction,elementClasses={ul:'pagination__list',li:'pagination__item',a:'pagination__link'}){this.postsContainer=postsContainer;this.paginationContainer=paginationContainer;this.limitPerPage=limitPerPage;this.currentPage=currentPage;this.renderFunction=renderFunction;this.elementClasses=elementClasses;this.pagination=[]}
init(data,page=this.currentPage){this.data=data;this.setPaginationLength();this.render(page)}
render(page){this.paginationContainer.innerHTML='';this.configPagination(page);this.renderPosts();this.renderPagination()}
configPagination(page){const indexOfLastPost=page*this.limitPerPage;const indexOfFirstPost=indexOfLastPost-this.limitPerPage;const currentPosts=this.data.slice(indexOfFirstPost,indexOfLastPost);this.postsPerPage=currentPosts}
setPaginationLength(){for(let i=1;i<=Math.ceil(this.data.length/this.limitPerPage);i++){this.pagination.push(i)}}
renderPosts(){this.postsContainer.innerHTML='';this.postsPerPage.forEach(users=>{const user=this.renderFunction(users);this.postsContainer.innerHTML+=user})}
renderPagination(){const list=document.createElement('ul');list.classList.add(this.elementClasses.ul);const that=this;this.pagination.forEach(number=>{const li=document.createElement('li');li.classList.add(this.elementClasses.li);const a=document.createElement('a');a.setAttribute('href','javascript:void(0)');a.classList.add(this.elementClasses.a);a.innerText=`${number}`;a.addEventListener('click',function(e){that.configPagination(this.innerText);that.renderPosts()});li.appendChild(a);list.appendChild(li)});this.paginationContainer.appendChild(list)}}